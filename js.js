/*
Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚ ÐºÐ°ÑÑÐ¸Ñ€Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ ÑÐ¿Ð¸ÑÐ¾Ðº Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð² Ð¸ Ð´ÐµÐ½ÑŒÐ³Ð¸, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð¾Ð±Ñ‰ÑƒÑŽ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð², Ð¸ Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ñ‚Ð¾Ð³Ð¾ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚ Ð´ÐµÐ½ÐµÐ³ Ð¸Ð»Ð¸ Ð½ÐµÑ‚, 
ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÑÐµÑ‚ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»Ñ Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ðµ.
*/

/* Ð•ÑÑ‚ÑŒ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð², Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ "Ð¸Ð¼Ñ-Ñ‚Ð¾Ð²Ð°Ñ€Ð°":"Ñ†ÐµÐ½Ð° Ð·Ð° Ð¾Ð´Ð½Ñƒ ÐµÐ´Ð¸Ð½Ð¸Ñ†Ñƒ" */


/* 
ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ-ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€ Cashier. ÐŸÐ¾Ð»Ñ Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ³Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ð° ÐºÐ°ÑÑÐ¸Ñ€Ð° (ðŸ”” Ð¾Ð±ÑŠÑÐ²Ð»ÑÑŽÑ‚ÑÑ ÐºÐ°Ðº this.Ð¸Ð¼Ñ_Ð¿Ð¾Ð»Ñ Ð² ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ðµ): 
    - name - ÑÑ‚Ñ€Ð¾ÐºÐ°, Ð¸Ð¼Ñ ÐºÐ°ÑÑÐ¸Ñ€Ð°, Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð²Ñ‹Ð·Ð¾Ð²Ðµ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð°
    - productsDatabase - Ð¾Ð±ÑŠÐµÐºÑ‚ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð², Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð²Ñ‹Ð·Ð¾Ð²Ðµ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð°
    - totalPrice - Ñ‡Ð¸ÑÐ»Ð¾, Ð¾Ð±Ñ‰Ð°Ñ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¿Ð¾ÐºÑƒÐ¿Ð¾Ðº Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»Ñ, Ð²ÑÐµÐ³Ð´Ð° Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ñ 0 
    - customerMoney - Ñ‡Ð¸ÑÐ»Ð¾, ÑÑƒÐ¼Ð¼Ð° Ð²Ð²ÐµÐ´ÐµÐ½Ð½Ð°Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¼ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ Ð´ÐµÐ½ÐµÐ³, Ð²ÑÐµÐ³Ð´Ð° Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ñ 0 
    - changeAmount - Ñ‡Ð¸ÑÐ»Ð¾, ÑÐ´Ð°Ñ‡Ð°, Ð²ÑÐµÐ³Ð´Ð° Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ñ 0
    - greet() - Ð¼ÐµÑ‚Ð¾Ð´, Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ `Ð—Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹Ñ‚Ðµ, Ð²Ð°Ñ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑ‚ ${Ð¸Ð¼Ñ_ÐºÐ°ÑÑÐ¸Ñ€Ð°}`
    - onSuccess() - Ð¼ÐµÑ‚Ð¾Ð´, Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ `Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÑƒ, Ð²Ð°ÑˆÐ° ÑÐ´Ð°Ñ‡Ð° ${ÑÐ´Ð°Ñ‡Ð°}` ÐµÑÐ»Ð¸ ÑÐ´Ð°Ñ‡Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ 0, Ð¸ ÑÑ‚Ñ€Ð¾ÐºÑƒ `Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÑƒ` ÐµÑÐ»Ð¸ ÑÐ´Ð°Ñ‡Ð° 
    Ñ€Ð°Ð²Ð½Ð° 0.
    - onError() - Ð¼ÐµÑ‚Ð¾Ð´, Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ 'ÐžÑ‡ÐµÐ½ÑŒ Ð¶Ð°Ð»ÑŒ, Ð²Ð°Ð¼ Ð½Ðµ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚ Ð´ÐµÐ½ÐµÐ³ Ð½Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸'    
    - countTotalPrice(order) - Ð¼ÐµÑ‚Ð¾Ð´, Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ ÑÐ¿Ð¸ÑÐ¾Ðº Ð¿Ð¾ÐºÑƒÐ¿Ð¾Ðº, ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ Ð¾Ð±Ñ‰ÑƒÑŽ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¸ÑÑ…Ð¾Ð´Ñ Ð¸Ð· Ð¿Ð¾Ð»Ñ productsDatabase. Ð—Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð² Ð¿Ð¾Ð»Ðµ 
    totalPrice.
    - getCustomerMoney(value) - Ð¼ÐµÑ‚Ð¾Ð´, Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ñ‡Ð¸ÑÐ»Ð¾ - Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»Ñ Ð¸ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ ÐµÐ³Ð¾ Ð² Ð¿Ð¾Ð»Ðµ customerMoney
    - countChange() - Ð¼ÐµÑ‚Ð¾Ð´, ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ ÑÐ´Ð°Ñ‡Ñƒ, Ñ€Ð°Ð·Ð½Ð¸Ñ†Ñƒ Ð¼ÐµÐ¶Ð´Ñƒ Ð¾Ð±Ñ‰ÐµÐ¹ ÑÑƒÐ¼Ð¼Ð¾Ð¹ Ð¿Ð¾ÐºÑƒÐ¿Ð¾Ðº Ð¸ Ð´ÐµÐ½ÑŒÐ³Ð°Ð¼Ð¸ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»Ñ, Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð² Ð¿Ð¾Ð»Ðµ changeAmount.
        * ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ‡Ñ‚Ð¾ customerMoney Ð½Ðµ Ð¼ÐµÐ½ÑŒÑˆÐµ Ñ‡ÐµÐ¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ totalPrice
        * Ð•ÑÐ»Ð¸ Ð´ÐµÐ½ÐµÐ³ Ð±Ñ‹Ð»Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð¾ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ changeAmount
        * Ð•ÑÐ»Ð¸ Ð±Ñ‹Ð»Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð¾ Ð¼ÐµÐ½ÑŒÑˆÐµ Ð´ÐµÐ½ÐµÐ³ Ñ‡ÐµÐ¼ Ð² Ð¿Ð¾Ð»Ðµ totalPrice, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ null 
    - reset() - Ð¼ÐµÑ‚Ð¾Ð´, ÑÐ±Ñ€Ð°ÑÑ‹Ð²Ð°ÐµÑ‚ Ð¿Ð¾Ð»Ñ totalPrice, customerMoney Ð¸ changeAmount Ð² 0.
*/


const products = {
  bread: 10,
  milk: 15,
  apples: 20,
  chicken: 50,
  cheese: 40
};

class Cashier {
  constructor(name, productsDatabase){
      this.name = name;
      this.productsDatabase = productsDatabase;
      this.totalPrice = 0;
      this.customerMoney = 0;
      this.changeAmount = 0;
  }

  greet(){
      console.log(`Ð—Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹Ñ‚Ðµ, Ð²Ð°Ñ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑ‚ ${this.name}`);
  }
  onSuccess() {
      if (this.changeAmount > 0) {
          console.log(`Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÑƒ, Ð²Ð°ÑˆÐ° ÑÐ´Ð°Ñ‡Ð° ${this.changeAmount}`);
      } else if (this.changeAmount = 0) {
          console.log(`Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÑƒ!`);
      } else {
          this.onError();
      }
  }

  onError(){
      console.log( "ÐžÑ‡ÐµÐ½ÑŒ Ð¶Ð°Ð»ÑŒ, Ð²Ð°Ð¼ Ð½Ðµ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚ Ð´ÐµÐ½ÐµÐ³ Ð½Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸" );
  }

  countTotalPrice(order){

      for (let item of Object.values(order)) {
        this.totalPrice += item;
      }
      return this.totalPrice;
  }

  getCustomerMoney(value){
      this.customerMoney = value;
  }

  countChange(){
      if (this.customerMoney > this.totalPrice) {
          this.changeAmount = this.customerMoney - this.totalPrice;
      } else if (this.customerMoney = this.totalPrice){
          this.changeAmount = 0;
      } else {
          this.changeAmount = null;
      }
  }

  reset(){
      this.totalPrice = 0;
      this.customerMoney = 0;
      this.changeAmount = 0;
  }

  tranaction(){
      this.greet();
      this.getCustomerMoney(value);
      this.countTotalPrice(order);
      this.countChange();
      this.onSuccess();
      this.reset();
  }

}

const value = 500;
const order = { bread: 2, milk: 2, apples: 1, cheese: 1 };
const vasya = new Cashier("Vasya", products);
const anna = new Cashier("Anna", products);

console.log(vasya.tranaction());